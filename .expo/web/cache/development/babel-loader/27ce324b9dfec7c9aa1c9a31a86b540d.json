{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.useAnimatedValues = void 0;\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_native_reanimated_1 = require(\"react-native-reanimated\");\n\nvar react_native_gesture_handler_1 = require(\"react-native-gesture-handler\");\n\nvar useNode_1 = require(\"../hooks/useNode\");\n\nvar propsContext_1 = require(\"./propsContext\");\n\nvar constants_1 = require(\"../constants\");\n\nif (!react_native_reanimated_1.useValue) {\n  throw new Error(\"Incompatible Reanimated version (useValue not found)\");\n}\n\nvar AnimatedValueContext = react_1.default.createContext(undefined);\n\nfunction AnimatedValueProvider(_a) {\n  var children = _a.children;\n  var value = useSetupAnimatedValues();\n  return react_1.default.createElement(AnimatedValueContext.Provider, {\n    value: value\n  }, children);\n}\n\nexports.default = AnimatedValueProvider;\n\nfunction useAnimatedValues() {\n  var value = react_1.useContext(AnimatedValueContext);\n\n  if (!value) {\n    throw new Error(\"useAnimatedValues must be called from within AnimatedValueProvider!\");\n  }\n\n  return value;\n}\n\nexports.useAnimatedValues = useAnimatedValues;\n\nfunction useSetupAnimatedValues() {\n  var props = propsContext_1.useProps();\n  var containerSize = react_native_reanimated_1.useValue(0);\n  var touchInit = react_native_reanimated_1.useValue(0);\n  var activationDistance = react_native_reanimated_1.useValue(0);\n  var touchAbsolute = react_native_reanimated_1.useValue(0);\n  var panGestureState = react_native_reanimated_1.useValue(react_native_gesture_handler_1.State.UNDETERMINED);\n  var isTouchActiveNative = react_native_reanimated_1.useValue(0);\n  var disabled = react_native_reanimated_1.useValue(0);\n  var horizontalAnim = react_native_reanimated_1.useValue(props.horizontal ? 1 : 0);\n  var activeIndexAnim = react_native_reanimated_1.useValue(-1);\n  var spacerIndexAnim = react_native_reanimated_1.useValue(-1);\n  var activeCellSize = react_native_reanimated_1.useValue(0);\n  var activeCellOffset = react_native_reanimated_1.useValue(0);\n  var isDraggingCell = useNode_1.useNode(react_native_reanimated_1.and(isTouchActiveNative, react_native_reanimated_1.greaterThan(activeIndexAnim, -1)));\n  var scrollOffset = react_native_reanimated_1.useValue(0);\n  var outerScrollOffset = props.outerScrollOffset || constants_1.DEFAULT_PROPS.outerScrollOffset;\n  var outerScrollOffsetSnapshot = react_native_reanimated_1.useValue(0);\n  var outerScrollOffsetDiff = react_native_reanimated_1.sub(outerScrollOffset, outerScrollOffsetSnapshot);\n  var scrollViewSize = react_native_reanimated_1.useValue(0);\n  var touchCellOffset = useNode_1.useNode(react_native_reanimated_1.sub(touchInit, activeCellOffset));\n  var hoverAnimUnconstrained = useNode_1.useNode(react_native_reanimated_1.add(outerScrollOffsetDiff, react_native_reanimated_1.sub(react_native_reanimated_1.sub(touchAbsolute, activationDistance), touchCellOffset)));\n  var hoverAnimConstrained = useNode_1.useNode(react_native_reanimated_1.min(react_native_reanimated_1.sub(containerSize, activeCellSize), react_native_reanimated_1.max(0, hoverAnimUnconstrained)));\n  var hoverAnim = props.dragItemOverflow ? hoverAnimUnconstrained : hoverAnimConstrained;\n  var hoverOffset = useNode_1.useNode(react_native_reanimated_1.add(hoverAnim, scrollOffset));\n  react_native_reanimated_1.useCode(function () {\n    return react_native_reanimated_1.onChange(touchAbsolute, react_native_reanimated_1.set(outerScrollOffsetSnapshot, outerScrollOffset));\n  }, [outerScrollOffset]);\n  var placeholderOffset = react_native_reanimated_1.useValue(0);\n  var resetTouchedCell = useNode_1.useNode(react_native_reanimated_1.block([react_native_reanimated_1.set(touchAbsolute, 0), react_native_reanimated_1.set(touchInit, 0), react_native_reanimated_1.set(activeCellOffset, 0), react_native_reanimated_1.set(activationDistance, 0)]));\n  var value = react_1.useMemo(function () {\n    return {\n      activationDistance: activationDistance,\n      activeCellOffset: activeCellOffset,\n      activeCellSize: activeCellSize,\n      activeIndexAnim: activeIndexAnim,\n      containerSize: containerSize,\n      disabled: disabled,\n      horizontalAnim: horizontalAnim,\n      hoverAnim: hoverAnim,\n      hoverAnimConstrained: hoverAnimConstrained,\n      hoverAnimUnconstrained: hoverAnimUnconstrained,\n      hoverOffset: hoverOffset,\n      isDraggingCell: isDraggingCell,\n      isTouchActiveNative: isTouchActiveNative,\n      panGestureState: panGestureState,\n      placeholderOffset: placeholderOffset,\n      resetTouchedCell: resetTouchedCell,\n      scrollOffset: scrollOffset,\n      scrollViewSize: scrollViewSize,\n      spacerIndexAnim: spacerIndexAnim,\n      touchAbsolute: touchAbsolute,\n      touchCellOffset: touchCellOffset,\n      touchInit: touchInit\n    };\n  }, [activationDistance, activeCellOffset, activeCellSize, activeIndexAnim, containerSize, disabled, horizontalAnim, hoverAnim, hoverAnimConstrained, hoverAnimUnconstrained, hoverOffset, isDraggingCell, isTouchActiveNative, panGestureState, placeholderOffset, resetTouchedCell, scrollOffset, scrollViewSize, spacerIndexAnim, touchAbsolute, touchCellOffset, touchInit]);\n  react_1.useEffect(function () {\n    var _a;\n\n    (_a = props.onAnimValInit) === null || _a === void 0 ? void 0 : _a.call(props, value);\n  }, [value]);\n  return value;\n}","map":{"version":3,"sources":["/home/pagoto/Desktop/GITHUB/SipTender/node_modules/react-native-draggable-flatlist/lib/context/animatedValueContext.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","prototype","hasOwnProperty","call","exports","useAnimatedValues","react_1","require","react_native_reanimated_1","react_native_gesture_handler_1","useNode_1","propsContext_1","constants_1","useValue","Error","AnimatedValueContext","default","createContext","AnimatedValueProvider","_a","children","useSetupAnimatedValues","createElement","Provider","useContext","props","useProps","containerSize","touchInit","activationDistance","touchAbsolute","panGestureState","State","UNDETERMINED","isTouchActiveNative","disabled","horizontalAnim","horizontal","activeIndexAnim","spacerIndexAnim","activeCellSize","activeCellOffset","isDraggingCell","useNode","and","greaterThan","scrollOffset","outerScrollOffset","DEFAULT_PROPS","outerScrollOffsetSnapshot","outerScrollOffsetDiff","sub","scrollViewSize","touchCellOffset","hoverAnimUnconstrained","add","hoverAnimConstrained","min","max","hoverAnim","dragItemOverflow","hoverOffset","useCode","onChange","set","placeholderOffset","resetTouchedCell","block","useMemo","useEffect","onAnimValInit"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useAnimatedValues = void 0;\nvar react_1 = __importStar(require(\"react\"));\nvar react_native_reanimated_1 = require(\"react-native-reanimated\");\nvar react_native_gesture_handler_1 = require(\"react-native-gesture-handler\");\nvar useNode_1 = require(\"../hooks/useNode\");\nvar propsContext_1 = require(\"./propsContext\");\nvar constants_1 = require(\"../constants\");\nif (!react_native_reanimated_1.useValue) {\n    throw new Error(\"Incompatible Reanimated version (useValue not found)\");\n}\nvar AnimatedValueContext = react_1.default.createContext(undefined);\nfunction AnimatedValueProvider(_a) {\n    var children = _a.children;\n    var value = useSetupAnimatedValues();\n    return (react_1.default.createElement(AnimatedValueContext.Provider, { value: value }, children));\n}\nexports.default = AnimatedValueProvider;\nfunction useAnimatedValues() {\n    var value = react_1.useContext(AnimatedValueContext);\n    if (!value) {\n        throw new Error(\"useAnimatedValues must be called from within AnimatedValueProvider!\");\n    }\n    return value;\n}\nexports.useAnimatedValues = useAnimatedValues;\nfunction useSetupAnimatedValues() {\n    var props = propsContext_1.useProps();\n    var containerSize = react_native_reanimated_1.useValue(0);\n    var touchInit = react_native_reanimated_1.useValue(0); // Position of initial touch\n    var activationDistance = react_native_reanimated_1.useValue(0); // Distance finger travels from initial touch to when dragging begins\n    var touchAbsolute = react_native_reanimated_1.useValue(0); // Finger position on screen, relative to container\n    var panGestureState = react_native_reanimated_1.useValue(react_native_gesture_handler_1.State.UNDETERMINED);\n    var isTouchActiveNative = react_native_reanimated_1.useValue(0);\n    var disabled = react_native_reanimated_1.useValue(0);\n    var horizontalAnim = react_native_reanimated_1.useValue(props.horizontal ? 1 : 0);\n    var activeIndexAnim = react_native_reanimated_1.useValue(-1); // Index of hovering cell\n    var spacerIndexAnim = react_native_reanimated_1.useValue(-1); // Index of hovered-over cell\n    var activeCellSize = react_native_reanimated_1.useValue(0); // Height or width of acctive cell\n    var activeCellOffset = react_native_reanimated_1.useValue(0); // Distance between active cell and edge of container\n    var isDraggingCell = useNode_1.useNode(react_native_reanimated_1.and(isTouchActiveNative, react_native_reanimated_1.greaterThan(activeIndexAnim, -1)));\n    var scrollOffset = react_native_reanimated_1.useValue(0);\n    var outerScrollOffset = props.outerScrollOffset || constants_1.DEFAULT_PROPS.outerScrollOffset;\n    var outerScrollOffsetSnapshot = react_native_reanimated_1.useValue(0); // Amount any outer scrollview has scrolled since last gesture event.\n    var outerScrollOffsetDiff = react_native_reanimated_1.sub(outerScrollOffset, outerScrollOffsetSnapshot);\n    var scrollViewSize = react_native_reanimated_1.useValue(0);\n    var touchCellOffset = useNode_1.useNode(react_native_reanimated_1.sub(touchInit, activeCellOffset));\n    var hoverAnimUnconstrained = useNode_1.useNode(react_native_reanimated_1.add(outerScrollOffsetDiff, react_native_reanimated_1.sub(react_native_reanimated_1.sub(touchAbsolute, activationDistance), touchCellOffset)));\n    var hoverAnimConstrained = useNode_1.useNode(react_native_reanimated_1.min(react_native_reanimated_1.sub(containerSize, activeCellSize), react_native_reanimated_1.max(0, hoverAnimUnconstrained)));\n    var hoverAnim = props.dragItemOverflow\n        ? hoverAnimUnconstrained\n        : hoverAnimConstrained;\n    var hoverOffset = useNode_1.useNode(react_native_reanimated_1.add(hoverAnim, scrollOffset));\n    react_native_reanimated_1.useCode(function () {\n        return react_native_reanimated_1.onChange(touchAbsolute, \n        // If the list is being used in \"nested\" mode (ie. there's an outer scrollview that contains the list)\n        // then we need a way to track the amound the outer list has auto-scrolled during the current touch position.\n        react_native_reanimated_1.set(outerScrollOffsetSnapshot, outerScrollOffset));\n    }, [outerScrollOffset]);\n    var placeholderOffset = react_native_reanimated_1.useValue(0);\n    // Note: this could use a refactor as it combines touch state + cell animation\n    var resetTouchedCell = useNode_1.useNode(react_native_reanimated_1.block([\n        react_native_reanimated_1.set(touchAbsolute, 0),\n        react_native_reanimated_1.set(touchInit, 0),\n        react_native_reanimated_1.set(activeCellOffset, 0),\n        react_native_reanimated_1.set(activationDistance, 0),\n    ]));\n    var value = react_1.useMemo(function () { return ({\n        activationDistance: activationDistance,\n        activeCellOffset: activeCellOffset,\n        activeCellSize: activeCellSize,\n        activeIndexAnim: activeIndexAnim,\n        containerSize: containerSize,\n        disabled: disabled,\n        horizontalAnim: horizontalAnim,\n        hoverAnim: hoverAnim,\n        hoverAnimConstrained: hoverAnimConstrained,\n        hoverAnimUnconstrained: hoverAnimUnconstrained,\n        hoverOffset: hoverOffset,\n        isDraggingCell: isDraggingCell,\n        isTouchActiveNative: isTouchActiveNative,\n        panGestureState: panGestureState,\n        placeholderOffset: placeholderOffset,\n        resetTouchedCell: resetTouchedCell,\n        scrollOffset: scrollOffset,\n        scrollViewSize: scrollViewSize,\n        spacerIndexAnim: spacerIndexAnim,\n        touchAbsolute: touchAbsolute,\n        touchCellOffset: touchCellOffset,\n        touchInit: touchInit,\n    }); }, [\n        activationDistance,\n        activeCellOffset,\n        activeCellSize,\n        activeIndexAnim,\n        containerSize,\n        disabled,\n        horizontalAnim,\n        hoverAnim,\n        hoverAnimConstrained,\n        hoverAnimUnconstrained,\n        hoverOffset,\n        isDraggingCell,\n        isTouchActiveNative,\n        panGestureState,\n        placeholderOffset,\n        resetTouchedCell,\n        scrollOffset,\n        scrollViewSize,\n        spacerIndexAnim,\n        touchAbsolute,\n        touchCellOffset,\n        touchInit,\n    ]);\n    react_1.useEffect(function () {\n        var _a;\n        (_a = props.onAnimValInit) === null || _a === void 0 ? void 0 : _a.call(props, value);\n    }, [value]);\n    return value;\n}\n"]},"metadata":{},"sourceType":"script"}