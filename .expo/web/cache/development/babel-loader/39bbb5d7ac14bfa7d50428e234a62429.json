{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n\n      for (var p in s) {\n        if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n    }\n\n    return t;\n  };\n\n  return __assign.apply(this, arguments);\n};\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function get() {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) {\n    if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  }\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nvar __spreadArray = this && this.__spreadArray || function (to, from) {\n  for (var i = 0, il = from.length, j = to.length; i < il; i++, j++) {\n    to[j] = from[i];\n  }\n\n  return to;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar react_native_gesture_handler_1 = require(\"react-native-gesture-handler\");\n\nvar react_native_reanimated_1 = __importStar(require(\"react-native-reanimated\"));\n\nvar CellRendererComponent_1 = __importDefault(require(\"./CellRendererComponent\"));\n\nvar constants_1 = require(\"../constants\");\n\nvar PlaceholderItem_1 = __importDefault(require(\"./PlaceholderItem\"));\n\nvar RowItem_1 = __importDefault(require(\"./RowItem\"));\n\nvar ScrollOffsetListener_1 = __importDefault(require(\"./ScrollOffsetListener\"));\n\nvar useAutoScroll_1 = require(\"../hooks/useAutoScroll\");\n\nvar useNode_1 = require(\"../hooks/useNode\");\n\nvar propsContext_1 = __importDefault(require(\"../context/propsContext\"));\n\nvar animatedValueContext_1 = __importStar(require(\"../context/animatedValueContext\"));\n\nvar refContext_1 = __importStar(require(\"../context/refContext\"));\n\nvar draggableFlatListContext_1 = __importDefault(require(\"../context/draggableFlatListContext\"));\n\nvar AnimatedFlatList = react_native_reanimated_1.default.createAnimatedComponent(react_native_gesture_handler_1.FlatList);\n\nfunction DraggableFlatListInner(props) {\n  var _a = refContext_1.useRefs(),\n      cellDataRef = _a.cellDataRef,\n      containerRef = _a.containerRef,\n      flatListRef = _a.flatListRef,\n      isTouchActiveRef = _a.isTouchActiveRef,\n      keyToIndexRef = _a.keyToIndexRef,\n      panGestureHandlerRef = _a.panGestureHandlerRef,\n      propsRef = _a.propsRef,\n      scrollOffsetRef = _a.scrollOffsetRef;\n\n  var _b = animatedValueContext_1.useAnimatedValues(),\n      activationDistance = _b.activationDistance,\n      activeCellOffset = _b.activeCellOffset,\n      activeCellSize = _b.activeCellSize,\n      activeIndexAnim = _b.activeIndexAnim,\n      containerSize = _b.containerSize,\n      disabled = _b.disabled,\n      panGestureState = _b.panGestureState,\n      resetTouchedCell = _b.resetTouchedCell,\n      scrollOffset = _b.scrollOffset,\n      scrollViewSize = _b.scrollViewSize,\n      spacerIndexAnim = _b.spacerIndexAnim,\n      touchAbsolute = _b.touchAbsolute,\n      touchInit = _b.touchInit;\n\n  var _c = props.dragHitSlop,\n      dragHitSlop = _c === void 0 ? constants_1.DEFAULT_PROPS.dragHitSlop : _c,\n      _d = props.scrollEnabled,\n      scrollEnabled = _d === void 0 ? constants_1.DEFAULT_PROPS.scrollEnabled : _d,\n      _e = props.activationDistance,\n      activationDistanceProp = _e === void 0 ? constants_1.DEFAULT_PROPS.activationDistance : _e;\n\n  var _f = react_1.useState(null),\n      activeKey = _f[0],\n      setActiveKey = _f[1];\n\n  var keyExtractor = react_1.useCallback(function (item, index) {\n    if (propsRef.current.keyExtractor) return propsRef.current.keyExtractor(item, index);else throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n  }, [propsRef]);\n  react_1.useLayoutEffect(function () {\n    props.data.forEach(function (d, i) {\n      var key = keyExtractor(d, i);\n      keyToIndexRef.current.set(key, i);\n    });\n  }, [props.data, keyExtractor, keyToIndexRef]);\n  var drag = react_1.useCallback(function (activeKey) {\n    if (!isTouchActiveRef.current.js) return;\n    var index = keyToIndexRef.current.get(activeKey);\n    var cellData = cellDataRef.current.get(activeKey);\n\n    if (cellData) {\n      activeCellOffset.setValue(cellData.measurements.offset - scrollOffsetRef.current);\n      activeCellSize.setValue(cellData.measurements.size);\n    }\n\n    var onDragBegin = propsRef.current.onDragBegin;\n\n    if (index !== undefined) {\n      spacerIndexAnim.setValue(index);\n      activeIndexAnim.setValue(index);\n      setActiveKey(activeKey);\n      onDragBegin === null || onDragBegin === void 0 ? void 0 : onDragBegin(index);\n    }\n  }, [isTouchActiveRef, keyToIndexRef, cellDataRef, propsRef, activeCellOffset, scrollOffsetRef, activeCellSize, spacerIndexAnim, activeIndexAnim]);\n  var autoScrollNode = useAutoScroll_1.useAutoScroll();\n\n  var onContainerLayout = function onContainerLayout(_a) {\n    var layout = _a.nativeEvent.layout;\n    containerSize.setValue(props.horizontal ? layout.width : layout.height);\n  };\n\n  var onListContentSizeChange = function onListContentSizeChange(w, h) {\n    var _a;\n\n    scrollViewSize.setValue(props.horizontal ? w : h);\n    (_a = props.onContentSizeChange) === null || _a === void 0 ? void 0 : _a.call(props, w, h);\n  };\n\n  var onContainerTouchStart = function onContainerTouchStart() {\n    isTouchActiveRef.current.js = true;\n    isTouchActiveRef.current.native.setValue(1);\n    return false;\n  };\n\n  var onContainerTouchEnd = function onContainerTouchEnd() {\n    isTouchActiveRef.current.js = false;\n    isTouchActiveRef.current.native.setValue(0);\n  };\n\n  var dynamicProps = {};\n\n  if (activationDistanceProp) {\n    var activeOffset = [-activationDistanceProp, activationDistanceProp];\n    dynamicProps = props.horizontal ? {\n      activeOffsetX: activeOffset\n    } : {\n      activeOffsetY: activeOffset\n    };\n  }\n\n  var extraData = react_1.useMemo(function () {\n    return {\n      activeKey: activeKey,\n      extraData: props.extraData\n    };\n  }, [activeKey, props.extraData]);\n  var renderItem = react_1.useCallback(function (_a) {\n    var item = _a.item,\n        index = _a.index;\n    var key = keyExtractor(item, index);\n    if (index !== keyToIndexRef.current.get(key)) keyToIndexRef.current.set(key, index);\n    return react_1.default.createElement(RowItem_1.default, {\n      item: item,\n      itemKey: key,\n      renderItem: props.renderItem,\n      drag: drag,\n      extraData: props.extraData\n    });\n  }, [props.renderItem, props.extraData, drag, keyExtractor]);\n  var resetHoverState = react_1.useCallback(function () {\n    activeIndexAnim.setValue(-1);\n    spacerIndexAnim.setValue(-1);\n    touchAbsolute.setValue(0);\n    disabled.setValue(0);\n    requestAnimationFrame(function () {\n      setActiveKey(null);\n    });\n  }, [activeIndexAnim, spacerIndexAnim, touchAbsolute, disabled]);\n\n  var onRelease = function onRelease(_a) {\n    var _b;\n\n    var index = _a[0];\n    isTouchActiveRef.current.native.setValue(0);\n    (_b = props.onRelease) === null || _b === void 0 ? void 0 : _b.call(props, index);\n  };\n\n  var onDragEnd = react_1.useCallback(function (_a) {\n    var from = _a[0],\n        to = _a[1];\n    var _b = propsRef.current,\n        onDragEnd = _b.onDragEnd,\n        data = _b.data;\n\n    if (onDragEnd) {\n      var newData = __spreadArray([], data);\n\n      if (from !== to) {\n        newData.splice(from, 1);\n        newData.splice(to, 0, data[from]);\n      }\n\n      onDragEnd({\n        from: from,\n        to: to,\n        data: newData\n      });\n    }\n\n    resetHoverState();\n  }, [resetHoverState, propsRef]);\n  var onGestureRelease = useNode_1.useNode(react_native_reanimated_1.cond(react_native_reanimated_1.greaterThan(activeIndexAnim, -1), [react_native_reanimated_1.set(disabled, 1), react_native_reanimated_1.set(isTouchActiveRef.current.native, 0), react_native_reanimated_1.call([activeIndexAnim], onRelease)], [react_native_reanimated_1.call([activeIndexAnim], resetHoverState), resetTouchedCell]));\n  var onPanStateChange = react_1.useMemo(function () {\n    return react_native_reanimated_1.event([{\n      nativeEvent: function nativeEvent(_a) {\n        var state = _a.state,\n            x = _a.x,\n            y = _a.y;\n        return react_native_reanimated_1.block([react_native_reanimated_1.cond(react_native_reanimated_1.and(react_native_reanimated_1.neq(state, panGestureState), react_native_reanimated_1.not(disabled)), [react_native_reanimated_1.cond(react_native_reanimated_1.or(react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.BEGAN), react_native_reanimated_1.and(react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.ACTIVE), react_native_reanimated_1.neq(panGestureState, react_native_gesture_handler_1.State.BEGAN))), [react_native_reanimated_1.set(touchAbsolute, props.horizontal ? x : y), react_native_reanimated_1.set(touchInit, touchAbsolute)]), react_native_reanimated_1.cond(react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.ACTIVE), [react_native_reanimated_1.set(activationDistance, react_native_reanimated_1.sub(props.horizontal ? x : y, touchInit)), react_native_reanimated_1.set(touchAbsolute, props.horizontal ? x : y)])]), react_native_reanimated_1.cond(react_native_reanimated_1.neq(panGestureState, state), [react_native_reanimated_1.set(panGestureState, state), react_native_reanimated_1.cond(react_native_reanimated_1.or(react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.END), react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.CANCELLED), react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.FAILED)), onGestureRelease)])]);\n      }\n    }]);\n  }, [activationDistance, props.horizontal, panGestureState, disabled, onGestureRelease, touchAbsolute, touchInit]);\n  var onPanGestureEvent = react_1.useMemo(function () {\n    return react_native_reanimated_1.event([{\n      nativeEvent: function nativeEvent(_a) {\n        var x = _a.x,\n            y = _a.y;\n        return react_native_reanimated_1.cond(react_native_reanimated_1.and(react_native_reanimated_1.greaterThan(activeIndexAnim, -1), react_native_reanimated_1.eq(panGestureState, react_native_gesture_handler_1.State.ACTIVE), react_native_reanimated_1.not(disabled)), [react_native_reanimated_1.set(touchAbsolute, props.horizontal ? x : y)]);\n      }\n    }]);\n  }, [activeIndexAnim, disabled, panGestureState, props.horizontal, touchAbsolute]);\n  var scrollHandler = react_1.useMemo(function () {\n    var webOnScroll = function webOnScroll(_a) {\n      var _b = _a.nativeEvent.contentOffset,\n          x = _b.x,\n          y = _b.y;\n      scrollOffset.setValue(props.horizontal ? x : y);\n    };\n\n    var mobileOnScroll = react_native_reanimated_1.event([{\n      nativeEvent: function nativeEvent(_a) {\n        var contentOffset = _a.contentOffset;\n        return react_native_reanimated_1.block([react_native_reanimated_1.set(scrollOffset, props.horizontal ? contentOffset.x : contentOffset.y), autoScrollNode]);\n      }\n    }]);\n    return constants_1.isWeb ? webOnScroll : mobileOnScroll;\n  }, [autoScrollNode, props.horizontal, scrollOffset]);\n  return react_1.default.createElement(draggableFlatListContext_1.default, {\n    activeKey: activeKey,\n    onDragEnd: onDragEnd,\n    keyExtractor: keyExtractor,\n    horizontal: !!props.horizontal\n  }, react_1.default.createElement(react_native_gesture_handler_1.PanGestureHandler, __assign({\n    ref: panGestureHandlerRef,\n    hitSlop: dragHitSlop,\n    onHandlerStateChange: onPanStateChange,\n    onGestureEvent: onPanGestureEvent,\n    simultaneousHandlers: props.simultaneousHandlers\n  }, dynamicProps), react_1.default.createElement(react_native_reanimated_1.default.View, {\n    style: props.containerStyle,\n    ref: containerRef,\n    onLayout: onContainerLayout,\n    onTouchEnd: onContainerTouchEnd,\n    onStartShouldSetResponderCapture: onContainerTouchStart,\n    onClick: onContainerTouchEnd\n  }, react_1.default.createElement(ScrollOffsetListener_1.default, {\n    scrollOffset: scrollOffset,\n    onScrollOffsetChange: function onScrollOffsetChange(_a) {\n      var _b;\n\n      var offset = _a[0];\n      scrollOffsetRef.current = offset;\n      (_b = props.onScrollOffsetChange) === null || _b === void 0 ? void 0 : _b.call(props, offset);\n    }\n  }), !!props.renderPlaceholder && react_1.default.createElement(PlaceholderItem_1.default, {\n    renderPlaceholder: props.renderPlaceholder\n  }), react_1.default.createElement(AnimatedFlatList, __assign({}, props, {\n    CellRendererComponent: CellRendererComponent_1.default,\n    ref: flatListRef,\n    onContentSizeChange: onListContentSizeChange,\n    scrollEnabled: !activeKey && scrollEnabled,\n    renderItem: renderItem,\n    extraData: extraData,\n    keyExtractor: keyExtractor,\n    onScroll: scrollHandler,\n    scrollEventThrottle: 16,\n    simultaneousHandlers: props.simultaneousHandlers,\n    removeClippedSubviews: false\n  })), react_1.default.createElement(react_native_reanimated_1.default.Code, {\n    dependencies: []\n  }, function () {\n    return react_native_reanimated_1.block([react_native_reanimated_1.onChange(isTouchActiveRef.current.native, react_native_reanimated_1.cond(react_native_reanimated_1.not(isTouchActiveRef.current.native), onGestureRelease))]);\n  }))));\n}\n\nfunction DraggableFlatList(props, ref) {\n  return react_1.default.createElement(propsContext_1.default, __assign({}, props), react_1.default.createElement(animatedValueContext_1.default, null, react_1.default.createElement(refContext_1.default, {\n    flatListRef: ref\n  }, react_1.default.createElement(DraggableFlatListInner, __assign({}, props)))));\n}\n\nexports.default = react_1.default.forwardRef(DraggableFlatList);","map":{"version":3,"sources":["/home/pagoto/Desktop/GITHUB/SipTender/node_modules/react-native-draggable-flatlist/lib/components/DraggableFlatList.js"],"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__createBinding","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","__spreadArray","to","from","il","j","__importDefault","exports","react_1","require","react_native_gesture_handler_1","react_native_reanimated_1","CellRendererComponent_1","constants_1","PlaceholderItem_1","RowItem_1","ScrollOffsetListener_1","useAutoScroll_1","useNode_1","propsContext_1","animatedValueContext_1","refContext_1","draggableFlatListContext_1","AnimatedFlatList","default","createAnimatedComponent","FlatList","DraggableFlatListInner","props","_a","useRefs","cellDataRef","containerRef","flatListRef","isTouchActiveRef","keyToIndexRef","panGestureHandlerRef","propsRef","scrollOffsetRef","_b","useAnimatedValues","activationDistance","activeCellOffset","activeCellSize","activeIndexAnim","containerSize","disabled","panGestureState","resetTouchedCell","scrollOffset","scrollViewSize","spacerIndexAnim","touchAbsolute","touchInit","_c","dragHitSlop","DEFAULT_PROPS","_d","scrollEnabled","_e","activationDistanceProp","_f","useState","activeKey","setActiveKey","keyExtractor","useCallback","item","index","current","Error","useLayoutEffect","data","forEach","d","key","set","drag","js","cellData","setValue","measurements","offset","size","onDragBegin","autoScrollNode","useAutoScroll","onContainerLayout","layout","nativeEvent","horizontal","width","height","onListContentSizeChange","w","h","onContentSizeChange","onContainerTouchStart","native","onContainerTouchEnd","dynamicProps","activeOffset","activeOffsetX","activeOffsetY","extraData","useMemo","renderItem","createElement","itemKey","resetHoverState","requestAnimationFrame","onRelease","onDragEnd","newData","splice","onGestureRelease","useNode","cond","greaterThan","onPanStateChange","event","state","x","y","block","and","neq","not","or","eq","State","BEGAN","ACTIVE","sub","END","CANCELLED","FAILED","onPanGestureEvent","scrollHandler","webOnScroll","contentOffset","mobileOnScroll","isWeb","PanGestureHandler","ref","hitSlop","onHandlerStateChange","onGestureEvent","simultaneousHandlers","View","style","containerStyle","onLayout","onTouchEnd","onStartShouldSetResponderCapture","onClick","onScrollOffsetChange","renderPlaceholder","CellRendererComponent","onScroll","scrollEventThrottle","removeClippedSubviews","Code","dependencies","onChange","DraggableFlatList","forwardRef"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar react_native_gesture_handler_1 = require(\"react-native-gesture-handler\");\nvar react_native_reanimated_1 = __importStar(require(\"react-native-reanimated\"));\nvar CellRendererComponent_1 = __importDefault(require(\"./CellRendererComponent\"));\nvar constants_1 = require(\"../constants\");\nvar PlaceholderItem_1 = __importDefault(require(\"./PlaceholderItem\"));\nvar RowItem_1 = __importDefault(require(\"./RowItem\"));\nvar ScrollOffsetListener_1 = __importDefault(require(\"./ScrollOffsetListener\"));\nvar useAutoScroll_1 = require(\"../hooks/useAutoScroll\");\nvar useNode_1 = require(\"../hooks/useNode\");\nvar propsContext_1 = __importDefault(require(\"../context/propsContext\"));\nvar animatedValueContext_1 = __importStar(require(\"../context/animatedValueContext\"));\nvar refContext_1 = __importStar(require(\"../context/refContext\"));\nvar draggableFlatListContext_1 = __importDefault(require(\"../context/draggableFlatListContext\"));\nvar AnimatedFlatList = react_native_reanimated_1.default.createAnimatedComponent(react_native_gesture_handler_1.FlatList);\nfunction DraggableFlatListInner(props) {\n    var _a = refContext_1.useRefs(), cellDataRef = _a.cellDataRef, containerRef = _a.containerRef, flatListRef = _a.flatListRef, isTouchActiveRef = _a.isTouchActiveRef, keyToIndexRef = _a.keyToIndexRef, panGestureHandlerRef = _a.panGestureHandlerRef, propsRef = _a.propsRef, scrollOffsetRef = _a.scrollOffsetRef;\n    var _b = animatedValueContext_1.useAnimatedValues(), activationDistance = _b.activationDistance, activeCellOffset = _b.activeCellOffset, activeCellSize = _b.activeCellSize, activeIndexAnim = _b.activeIndexAnim, containerSize = _b.containerSize, disabled = _b.disabled, panGestureState = _b.panGestureState, resetTouchedCell = _b.resetTouchedCell, scrollOffset = _b.scrollOffset, scrollViewSize = _b.scrollViewSize, spacerIndexAnim = _b.spacerIndexAnim, touchAbsolute = _b.touchAbsolute, touchInit = _b.touchInit;\n    var _c = props.dragHitSlop, dragHitSlop = _c === void 0 ? constants_1.DEFAULT_PROPS.dragHitSlop : _c, _d = props.scrollEnabled, scrollEnabled = _d === void 0 ? constants_1.DEFAULT_PROPS.scrollEnabled : _d, _e = props.activationDistance, activationDistanceProp = _e === void 0 ? constants_1.DEFAULT_PROPS.activationDistance : _e;\n    var _f = react_1.useState(null), activeKey = _f[0], setActiveKey = _f[1];\n    var keyExtractor = react_1.useCallback(function (item, index) {\n        if (propsRef.current.keyExtractor)\n            return propsRef.current.keyExtractor(item, index);\n        else\n            throw new Error(\"You must provide a keyExtractor to DraggableFlatList\");\n    }, [propsRef]);\n    react_1.useLayoutEffect(function () {\n        props.data.forEach(function (d, i) {\n            var key = keyExtractor(d, i);\n            keyToIndexRef.current.set(key, i);\n        });\n    }, [props.data, keyExtractor, keyToIndexRef]);\n    var drag = react_1.useCallback(function (activeKey) {\n        if (!isTouchActiveRef.current.js)\n            return;\n        var index = keyToIndexRef.current.get(activeKey);\n        var cellData = cellDataRef.current.get(activeKey);\n        if (cellData) {\n            activeCellOffset.setValue(cellData.measurements.offset - scrollOffsetRef.current);\n            activeCellSize.setValue(cellData.measurements.size);\n        }\n        var onDragBegin = propsRef.current.onDragBegin;\n        if (index !== undefined) {\n            spacerIndexAnim.setValue(index);\n            activeIndexAnim.setValue(index);\n            setActiveKey(activeKey);\n            onDragBegin === null || onDragBegin === void 0 ? void 0 : onDragBegin(index);\n        }\n    }, [\n        isTouchActiveRef,\n        keyToIndexRef,\n        cellDataRef,\n        propsRef,\n        activeCellOffset,\n        scrollOffsetRef,\n        activeCellSize,\n        spacerIndexAnim,\n        activeIndexAnim,\n    ]);\n    var autoScrollNode = useAutoScroll_1.useAutoScroll();\n    var onContainerLayout = function (_a) {\n        var layout = _a.nativeEvent.layout;\n        containerSize.setValue(props.horizontal ? layout.width : layout.height);\n    };\n    var onListContentSizeChange = function (w, h) {\n        var _a;\n        scrollViewSize.setValue(props.horizontal ? w : h);\n        (_a = props.onContentSizeChange) === null || _a === void 0 ? void 0 : _a.call(props, w, h);\n    };\n    var onContainerTouchStart = function () {\n        isTouchActiveRef.current.js = true;\n        isTouchActiveRef.current.native.setValue(1);\n        return false;\n    };\n    var onContainerTouchEnd = function () {\n        isTouchActiveRef.current.js = false;\n        isTouchActiveRef.current.native.setValue(0);\n    };\n    var dynamicProps = {};\n    if (activationDistanceProp) {\n        var activeOffset = [-activationDistanceProp, activationDistanceProp];\n        dynamicProps = props.horizontal\n            ? { activeOffsetX: activeOffset }\n            : { activeOffsetY: activeOffset };\n    }\n    var extraData = react_1.useMemo(function () { return ({\n        activeKey: activeKey,\n        extraData: props.extraData,\n    }); }, [activeKey, props.extraData]);\n    var renderItem = react_1.useCallback(function (_a) {\n        var item = _a.item, index = _a.index;\n        var key = keyExtractor(item, index);\n        if (index !== keyToIndexRef.current.get(key))\n            keyToIndexRef.current.set(key, index);\n        return (react_1.default.createElement(RowItem_1.default, { item: item, itemKey: key, renderItem: props.renderItem, drag: drag, extraData: props.extraData }));\n    }, [props.renderItem, props.extraData, drag, keyExtractor]);\n    var resetHoverState = react_1.useCallback(function () {\n        activeIndexAnim.setValue(-1);\n        spacerIndexAnim.setValue(-1);\n        touchAbsolute.setValue(0);\n        disabled.setValue(0);\n        requestAnimationFrame(function () {\n            setActiveKey(null);\n        });\n    }, [activeIndexAnim, spacerIndexAnim, touchAbsolute, disabled]);\n    var onRelease = function (_a) {\n        var _b;\n        var index = _a[0];\n        // This shouldn't be necessary but seems to fix a bug where sometimes\n        // native values wouldn't update\n        isTouchActiveRef.current.native.setValue(0);\n        (_b = props.onRelease) === null || _b === void 0 ? void 0 : _b.call(props, index);\n    };\n    var onDragEnd = react_1.useCallback(function (_a) {\n        var from = _a[0], to = _a[1];\n        var _b = propsRef.current, onDragEnd = _b.onDragEnd, data = _b.data;\n        if (onDragEnd) {\n            var newData = __spreadArray([], data);\n            if (from !== to) {\n                newData.splice(from, 1);\n                newData.splice(to, 0, data[from]);\n            }\n            onDragEnd({ from: from, to: to, data: newData });\n        }\n        resetHoverState();\n    }, [resetHoverState, propsRef]);\n    var onGestureRelease = useNode_1.useNode(react_native_reanimated_1.cond(react_native_reanimated_1.greaterThan(activeIndexAnim, -1), [\n        react_native_reanimated_1.set(disabled, 1),\n        react_native_reanimated_1.set(isTouchActiveRef.current.native, 0),\n        react_native_reanimated_1.call([activeIndexAnim], onRelease),\n    ], [react_native_reanimated_1.call([activeIndexAnim], resetHoverState), resetTouchedCell]));\n    var onPanStateChange = react_1.useMemo(function () {\n        return react_native_reanimated_1.event([\n            {\n                nativeEvent: function (_a) {\n                    var state = _a.state, x = _a.x, y = _a.y;\n                    return react_native_reanimated_1.block([\n                        react_native_reanimated_1.cond(react_native_reanimated_1.and(react_native_reanimated_1.neq(state, panGestureState), react_native_reanimated_1.not(disabled)), [\n                            react_native_reanimated_1.cond(react_native_reanimated_1.or(react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.BEGAN), // Called on press in on Android, NOT on ios!\n                            // GestureState.BEGAN may be skipped on fast swipes\n                            react_native_reanimated_1.and(react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.ACTIVE), react_native_reanimated_1.neq(panGestureState, react_native_gesture_handler_1.State.BEGAN))), [\n                                react_native_reanimated_1.set(touchAbsolute, props.horizontal ? x : y),\n                                react_native_reanimated_1.set(touchInit, touchAbsolute),\n                            ]),\n                            react_native_reanimated_1.cond(react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.ACTIVE), [\n                                react_native_reanimated_1.set(activationDistance, react_native_reanimated_1.sub(props.horizontal ? x : y, touchInit)),\n                                react_native_reanimated_1.set(touchAbsolute, props.horizontal ? x : y),\n                            ]),\n                        ]),\n                        react_native_reanimated_1.cond(react_native_reanimated_1.neq(panGestureState, state), [\n                            react_native_reanimated_1.set(panGestureState, state),\n                            react_native_reanimated_1.cond(react_native_reanimated_1.or(react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.END), react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.CANCELLED), react_native_reanimated_1.eq(state, react_native_gesture_handler_1.State.FAILED)), onGestureRelease),\n                        ]),\n                    ]);\n                },\n            },\n        ]);\n    }, [\n        activationDistance,\n        props.horizontal,\n        panGestureState,\n        disabled,\n        onGestureRelease,\n        touchAbsolute,\n        touchInit,\n    ]);\n    var onPanGestureEvent = react_1.useMemo(function () {\n        return react_native_reanimated_1.event([\n            {\n                nativeEvent: function (_a) {\n                    var x = _a.x, y = _a.y;\n                    return react_native_reanimated_1.cond(react_native_reanimated_1.and(react_native_reanimated_1.greaterThan(activeIndexAnim, -1), react_native_reanimated_1.eq(panGestureState, react_native_gesture_handler_1.State.ACTIVE), react_native_reanimated_1.not(disabled)), [react_native_reanimated_1.set(touchAbsolute, props.horizontal ? x : y)]);\n                },\n            },\n        ]);\n    }, [\n        activeIndexAnim,\n        disabled,\n        panGestureState,\n        props.horizontal,\n        touchAbsolute,\n    ]);\n    var scrollHandler = react_1.useMemo(function () {\n        // Web doesn't seem to like animated events\n        var webOnScroll = function (_a) {\n            var _b = _a.nativeEvent.contentOffset, x = _b.x, y = _b.y;\n            scrollOffset.setValue(props.horizontal ? x : y);\n        };\n        var mobileOnScroll = react_native_reanimated_1.event([\n            {\n                nativeEvent: function (_a) {\n                    var contentOffset = _a.contentOffset;\n                    return react_native_reanimated_1.block([\n                        react_native_reanimated_1.set(scrollOffset, props.horizontal ? contentOffset.x : contentOffset.y),\n                        autoScrollNode,\n                    ]);\n                },\n            },\n        ]);\n        return constants_1.isWeb ? webOnScroll : mobileOnScroll;\n    }, [autoScrollNode, props.horizontal, scrollOffset]);\n    return (react_1.default.createElement(draggableFlatListContext_1.default, { activeKey: activeKey, onDragEnd: onDragEnd, keyExtractor: keyExtractor, horizontal: !!props.horizontal },\n        react_1.default.createElement(react_native_gesture_handler_1.PanGestureHandler, __assign({ ref: panGestureHandlerRef, hitSlop: dragHitSlop, onHandlerStateChange: onPanStateChange, onGestureEvent: onPanGestureEvent, simultaneousHandlers: props.simultaneousHandlers }, dynamicProps),\n            react_1.default.createElement(react_native_reanimated_1.default.View, { style: props.containerStyle, ref: containerRef, onLayout: onContainerLayout, onTouchEnd: onContainerTouchEnd, onStartShouldSetResponderCapture: onContainerTouchStart, \n                //@ts-ignore\n                onClick: onContainerTouchEnd },\n                react_1.default.createElement(ScrollOffsetListener_1.default, { scrollOffset: scrollOffset, onScrollOffsetChange: function (_a) {\n                        var _b;\n                        var offset = _a[0];\n                        scrollOffsetRef.current = offset;\n                        (_b = props.onScrollOffsetChange) === null || _b === void 0 ? void 0 : _b.call(props, offset);\n                    } }),\n                !!props.renderPlaceholder && (react_1.default.createElement(PlaceholderItem_1.default, { renderPlaceholder: props.renderPlaceholder })),\n                react_1.default.createElement(AnimatedFlatList, __assign({}, props, { CellRendererComponent: CellRendererComponent_1.default, ref: flatListRef, onContentSizeChange: onListContentSizeChange, scrollEnabled: !activeKey && scrollEnabled, renderItem: renderItem, extraData: extraData, keyExtractor: keyExtractor, onScroll: scrollHandler, scrollEventThrottle: 16, simultaneousHandlers: props.simultaneousHandlers, removeClippedSubviews: false })),\n                react_1.default.createElement(react_native_reanimated_1.default.Code, { dependencies: [] }, function () {\n                    return react_native_reanimated_1.block([\n                        react_native_reanimated_1.onChange(isTouchActiveRef.current.native, react_native_reanimated_1.cond(react_native_reanimated_1.not(isTouchActiveRef.current.native), onGestureRelease)),\n                    ]);\n                })))));\n}\nfunction DraggableFlatList(props, ref) {\n    return (react_1.default.createElement(propsContext_1.default, __assign({}, props),\n        react_1.default.createElement(animatedValueContext_1.default, null,\n            react_1.default.createElement(refContext_1.default, { flatListRef: ref },\n                react_1.default.createElement(DraggableFlatListInner, __assign({}, props))))));\n}\n// Generic forwarded ref type assertion taken from:\n// https://fettblog.eu/typescript-react-generic-forward-refs/#option-1%3A-type-assertion\nexports.default = react_1.default.forwardRef(DraggableFlatList);\n"]},"metadata":{},"sourceType":"script"}